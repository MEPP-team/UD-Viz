<html>
  <head>
    <title>ud-viz website</title>
    <link rel="stylesheet" href="./style.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <script type="text/javascript">
      // Build html
      const section = document.createElement('section');
      document.body.appendChild(section);

      const panel = document.createElement('div');
      panel.setAttribute('id', 'panel');
      section.appendChild(panel);

      const header = document.createElement('div');
      header.setAttribute('id', 'header');
      panel.appendChild(header);

      const h1 = document.createElement('h1');
      header.appendChild(h1);

      const labelH1 = document.createElement('div');
      labelH1.innerHTML = 'ud-viz';
      h1.appendChild(labelH1);

      const versionLink = document.createElement('a');
      versionLink.setAttribute('id', 'version');
      versionLink.setAttribute('target', '_blank');
      versionLink.setAttribute(
        'href',
        'https://github.com/VCityTeam/UD-Viz/releases'
      );
      versionLink.innerHTML = '3.0.0';
      h1.appendChild(versionLink);

      const contentWrapper = document.createElement('div');
      contentWrapper.setAttribute('id', 'contentWrapper');
      panel.appendChild(contentWrapper);

      const content = document.createElement('div');
      content.setAttribute('id', 'content');
      contentWrapper.appendChild(content);

      const addToContent = (title, list) => {
        const contentH2 = document.createElement('h2');
        contentH2.innerHTML = title;
        content.appendChild(contentH2);

        const contentUl = document.createElement('ul');
        content.appendChild(contentUl);

        list.forEach((l) => {
          const href = l.href;
          const label = l.label;
          const li = document.createElement('li');
          contentUl.appendChild(li);

          const link = document.createElement('a');
          link.setAttribute('href', href);
          link.innerHTML = label;
          li.appendChild(link);
        });
      };

      addToContent('Learn', [
        {
          href: 'https://github.com/VCityTeam/UD-Viz/blob/master/Doc/Devel/LocalGameTutorial.md',
          label: 'Game tutorial',
        },
      ]);

      addToContent('Community', [
        { href: 'https://projet.liris.cnrs.fr/vcity/', label: 'Website' },
        { href: '../docs/html/index.html', label: 'Documentation' },
      ]);

      addToContent('Code', [
        { href: 'https://github.com/VCityTeam/UD-Viz', label: 'Github' },
        { href: 'https://www.npmjs.com/package/ud-viz', label: 'Npm package' },
      ]);

      const viewer = document.createElement('div');
      viewer.setAttribute('id', 'viewer');
      section.appendChild(viewer);

      const titleProjectUdviz = document.createElement('h1');
      titleProjectUdviz.classList.add('projects_section_title');
      titleProjectUdviz.innerHTML = '@ud-viz/browser';
      viewer.appendChild(titleProjectUdviz);

      const containerProject = document.createElement('div');
      containerProject.setAttribute('id', 'prj_udviz');
      containerProject.classList.add('projects');
      viewer.appendChild(containerProject);

      const titleProjectUdvizGame = document.createElement('h1');
      titleProjectUdvizGame.classList.add('projects_section_title');
      titleProjectUdvizGame.innerHTML = '@ud-viz/browser Game';
      viewer.appendChild(titleProjectUdvizGame);

      const containerProjectGame = document.createElement('div');
      containerProjectGame.setAttribute('id', 'prj_udgame');
      containerProjectGame.classList.add('projects');
      viewer.appendChild(containerProjectGame);

      const addProjectElement = (name, parentEl, href, title, srcImg) => {
        const newProject = document.createElement('a');
        newProject.href = href;
        newProject.title = title;
        newProject.target = '_blank';
        newProject.rel = 'noopener';
        parentEl.appendChild(newProject);

        const newProjectImg = document.createElement('img');
        newProjectImg.src = srcImg;
        newProjectImg.loading = 'lazy';
        newProject.appendChild(newProjectImg);

        const newProjectNameHoverDiv = document.createElement('div');
        newProjectNameHoverDiv.innerHTML = name;
        newProject.appendChild(newProjectNameHoverDiv);
      };

      addProjectElement(
        'All Widget',
        containerProject,
        './packages/browser/examples/AllWidget.html',
        `This example implements all widgets and extensions currently available. As of today, this includes :
        \n- Temporal            \n- Help & About            \n- Documents            \n- Contribute            \n- Guided tours            \n- Authentication            \n- Documents to validate            \n- Document comments            \n- Geocoding            \n- 3DTiles debug            \n- Camera positioner            \n- Document links`,
        './packages/browser/examples/assets/img/mosaic/AllWidgets.png'
      );

      addProjectElement(
        'Worldmap',
        containerProject,
        './packages/browser/examples/WorldMap.html',
        'This example use IGN basemap to be able to navigate all over the world',
        './packages/browser/examples/assets/img/mosaic/WorldMap.png'
      );

      addProjectElement(
        'Billboard',
        containerProject,
        './packages/browser/examples/Billboard.html',
        'This example implements a billboard (ie an embeded html content in a 3D view).',
        './packages/browser/examples/assets/img/mosaic/billboard.png'
      );

      addProjectElement(
        'Document Widget',
        containerProject,
        './packages/browser/examples/DocumentWidget.html',
        'In this example you can consult documents in a document browser and search them using keywords and other fields.',
        './packages/browser/examples/assets/img/mosaic/DocumentWidget.png'
      );

      addProjectElement(
        'Geocoding Widget',
        containerProject,
        './packages/browser/examples/GeocodingWidget.html',
        'Geocoding allows a user to navigate in the city by searching addresses or place names.',
        './packages/browser/examples/assets/img/mosaic/GeocodingWidget.png'
      );

      addProjectElement(
        'BaseMap Widget',
        containerProject,
        './packages/browser/examples/BaseMapWidget.html',
        'BaseMap widget allows a user to select which background to use between those set up in the config file.',
        './packages/browser/examples/assets/img/mosaic/BaseMapWidget.png'
      );

      addProjectElement(
        'Camera Positioner Widget',
        containerProject,
        './packages/browser/examples/CameraPositionerWidget.html',
        'The camera positioner is a tool that show the coordinates and the orientation of the camera.',
        './packages/browser/examples/assets/img/mosaic/CameraPositionerWidget.png'
      );

      addProjectElement(
        'Slideshow Widget',
        containerProject,
        './packages/browser/examples/SlideShowWidget.html',
        'The SlideShow allows to display images and videos on a plane geometry.',
        './packages/browser/examples/assets/img/mosaic/CameraPositionerWidget.png'
      );

      addProjectElement(
        '3DTilesDebug Widget',
        containerProject,
        './packages/browser/examples/3DTilesDebugWidget.html',
        '3DTiles Debug displays a window which shows various information about 3DTiles objects and city objects.',
        './packages/browser/examples/assets/img/mosaic/3DTilesDebugWidget.png'
      );

      addProjectElement(
        'CityObject Widget',
        containerProject,
        './packages/browser/examples/CityObjectWidget.html',
        'This extensions allows the user to explore city objects and color them according to filters.',
        './packages/browser/examples/assets/img/mosaic/CityObjectWidget.png'
      );

      addProjectElement(
        'LayerChoice Widget',
        containerProject,
        './packages/browser/examples/LayerChoiceWidget.html',
        'This extensions interact with layers',
        './packages/browser/examples/assets/img/mosaic/LayerChoiceWidget.png'
      );

      addProjectElement(
        'Temporal Widget',
        containerProject,
        './packages/browser/examples/TemporalWidget.html',
        'This extensions allows the user to explore city objects and color them according to filters.',
        './packages/browser/examples/assets/img/mosaic/TemporalWidget.png'
      );

      addProjectElement(
        'GeoJSON',
        containerProject,
        './packages/browser/examples/GeoJson.html',
        `This example visualizes several GeoJSON datasets (such as bus lines, Velo'v stations, and humidity zones) alongside 3D planar data.`,
        './packages/browser/examples/assets/img/mosaic/GeoJSON.png'
      );

      addProjectElement(
        'Avatar Game',
        containerProjectGame,
        './packages/browser/examples/AvatarGame.html',
        'This example implements a local mini game illustrating an avatar walking in the city',
        './packages/browser/examples/assets/img/mosaic/AvatarGame.png'
      );

      addProjectElement(
        'Avatar Game with Shader',
        containerProjectGame,
        './packages/browser/examples/AvatarGameShader.html',
        'This example implements a local mini game illustrating an avatar walking in the city with collision and shader pass.',
        './packages/browser/examples/assets/img/mosaic/AvatarGameShader.png'
      );

      addProjectElement(
        'Zeppelin Game',
        containerProjectGame,
        './packages/browser/examples/ZeppelinGame.html',
        'This example implements a local mini game builded with the ud-viz game engine',
        './packages/browser/examples/assets/img/mosaic/ZeppelinGame.png'
      );
    </script>
  </body>
</html>
